<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>小众点评 - 搜索、筛选与排序</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/base.css" />
    <link rel="stylesheet" href="./css/components.css" />
    <link rel="stylesheet" href="./css/pages/search.css" />
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">小众点评</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu"
                aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="navMenu" class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">附近商家</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">关于我们</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO BANNER -->
    <div class="hero">
        <h1>欢迎来到 小众点评</h1>
        <p>探索你的美食世界</p>
    </div>

    <!-- MAIN CONTENT CONTAINER -->
    <div class="main-container">
        <!-- SEARCH Section -->
        <div class="section-box">
            <h2 class="mb-3">搜索</h2>
            <div class="input-group mb-3">
                <input id="searchInput" class="form-control" type="text" placeholder="Search (e.g. 火锅, 奶茶)"
                    autocomplete="off" />
                <button class="btn btn-primary" id="searchButton">Search</button>
            </div>

            <h5>搜索历史</h5>
            <ul id="historyList" class="history-list list-unstyled"></ul>
            <button class="btn btn-danger btn-sm mt-2" id="clearHistoryButton">Clear History</button>
        </div>

        <!-- FILTER + SORT Section -->
        <div class="section-box">
            <h2 class="mb-3">筛选 & 排序</h2>
            <form id="filters" class="row g-2">
                <div class="col-12 col-md-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="ratings" value="4" id="rating4">
                        <label class="form-check-label" for="rating4">评分 >= 4.0</label>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="avg_cost" value="60-120" id="avgRange">
                        <label class="form-check-label" for="avgRange">人均 60-120</label>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="avg_cost" value="30-60" id="avgRange">
                        <label class="form-check-label" for="avgRange">人均 30-60</label>
                    </div>
                </div>
                <!-- 新增：营业中筛选 -->
                <div class="col-12 col-md-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="is_open" value="true" id="isOpen">
                        <label class="form-check-label" for="isOpen">营业中</label>
                    </div>
                </div>
                <div class="col-12">
                    <button class="btn btn-success" type="submit">应用筛选</button>
                </div>
            </form>

            <div class="mt-4">
                <label for="sortSelect" class="fw-bold me-2">排序方式:</label>
                <select id="sortSelect" class="form-select d-inline-block w-auto">
                    <option value="default">综合排序</option>
                    <option value="rating_desc">评分最高</option>
                    <option value="avg_desc">人均消费最高</option>
                </select>
            </div>
        </div>

        <!-- RESULTS Section -->
        <div class="section-box">
            <h2 class="mb-3">结果列表</h2>
            <div id="results" class="results-list"></div> <!-- 改为垂直排列的类名 -->
            <div id="pagination" class="mt-3"></div>
            <div id="errorMessage" class="alert alert-danger d-none" role="alert"></div>
        </div>
    </div>

    <!-- 引入 Bootstrap JS 和 search.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/search.js"></script>
</body>

</html>